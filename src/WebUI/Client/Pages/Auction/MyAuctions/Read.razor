@using System;
@using System.Text.RegularExpressions;

@page "/auctions/{auctionId}/view"
@attribute [Authorize(Permissions.Auction)]

<PageTitle>View Auction </PageTitle>

@if (Model == null) return;

<h1 class="mb-4">@Model.Auction.Title</h1>

<div class="row">
    <div class="col-md-8">
        <h3>Description</h3>
        <p>@Model.Auction.Description</p>
        <h3>Details</h3>
        <table class="table">
            <tbody>
                <tr>
                    <td><strong>Category:</strong></td>
                    <td>@Model.Auction.Category</td>
                </tr>
                <tr>
                    <td><strong>Starting Bid Amount:</strong></td>
                    <td>@Model.Auction.StartingBidAmount</td>
                </tr>
                <tr>
                    <td><strong>Current Bid Amount:</strong></td>
                    <td>@Model.Auction.CurrentBidAmount</td>
                </tr>
                <tr>
                    <td><strong>Buy It Now Price:</strong></td>
                    <td>@Model.Auction.BuyItNowPrice</td>
                </tr>
                <tr>
                    <td><strong>Reserve Price:</strong></td>
                    <td>@Model.Auction.ReservePrice</td>
                </tr>
                <tr>
                    <td><strong>Start Date:</strong></td>
                    <td>@Model.Auction.StartDate.ToShortDateString()</td>
                </tr>
                <tr>
                    <td><strong>End Date:</strong></td>
                    <td>@Model.Auction.EndDate.ToShortDateString()</td>
                </tr>
                <tr>
                    <td><strong>Delivery Method:</strong></td>
					<td>@Regex.Replace(Model.Auction.DeliveryMethod.ToString(), "(\\B[A-Z])", " $1")</td>
                </tr>
            </tbody>
        </table>
        <h3>Time Left</h3>
        <p>@TimeLeft.Days days, @TimeLeft.Hours hours, @TimeLeft.Minutes minutes, @TimeLeft.Seconds seconds</p>
        <h3>Bidding History</h3>
        <ul>
            @foreach (var bid in Model.Auction.BiddingHistory)
            {
                <li>@bid.UserId - @bid.Amount</li>
            }
        </ul>
    </div>
</div>

<div class="row">
	<a href="/auctions">Take me back</a>
</div>







